<link rel="import" href="elements.html">

<dom-module id="uqlibrary-booking-display">
  <style is="custom-style" include="common-styles">
    :host {
      @apply(--uql-app-host);
    }

    .image-header {
      background-color: var(--theme-color);
      background-size: cover;
      background-position: 50% 50%;
      padding-top: 150px;
    }

    .image-header .title-container {
      background-color: var(--theme-color-lighter);
      padding: 16px;
    }

    .details-row {
      padding: 20px;

      @apply(--layout);
      @apply(--layout-horizontal);
    }

    .edit-button {
      margin-right: 20px;
    }

    .details-row iron-icon {
      margin-right: 20px;
    }

    .dialog-buttons {
      @apply(--layout-horizontal);
      @apply(--layout-end-justified);
    }
  </style>
  <template>

    <div class="image-header" style$="{{_backgroundUrl}}">
      <div class="title-container">
        <div class="title inverse">[[_roomDetails.title]]</div>
        <div class="subhead inverse">[[_location]]</div>
      </div>
    </div>

    <div class="details-row">
      <div class="text-container">
        <iron-icon icon="today" class="big-icon"></iron-icon>
      </div>
      <div class="text-container">
        <div class="title">Date</div>
        <div class="body1">[[_bookingDate]]</div>
      </div>
    </div>

    <div class="details-row">
      <div class="text-container">
        <iron-icon icon="schedule" class="big-icon"></iron-icon>
      </div>
      <div class="text-container">
        <div class="title">Time</div>
        <div class="body1">[[_bookingTime]]</div>
      </div>
    </div>

    <div class="details-row" hidden$="[[!_roomDetails.notes]]">
      <div class="text-container">
        <iron-icon icon="description" class="big-icon"></iron-icon>
      </div>
      <div class="text-container">
        <div class="title">Room Details</div>
        <div class="body1">[[_roomDetails.notes]]</div>
      </div>
    </div>

    <div class="details-row" hidden$="[[!_roomDetails.url]]">
      <div class="text-container">
        <iron-icon icon="file-map" class="big-icon"></iron-icon>
      </div>
      <div class="text-container">
        <div class="title">Map</div>
        <div class="body1"><a href$="[[_url]]">View map</a></div>
      </div>
    </div>

    <div class="details-row">
      <paper-button on-tap="_editBooking" class="button-colored-accent edit-button">Edit this booking</paper-button>
      <paper-button on-tap="_toggleDeleteDialog" class="button-colored-secondary">Delete this booking</paper-button>
    </div>

    <paper-dialog with-backdrop heading="Delete Booking" id="infoDialog" role="dialog" aria-label="Are you sure you want to delete this booking?">
      <p class="body2">Are you sure you want to delete this booking?</p>
      <div class="dialog-buttons">
        <paper-button on-tap="_toggleDeleteDialog" class="button-colored-secondary" aria-label="Back to booking details">Cancel</paper-button>
        <paper-button on-tap="_deleteBooking" class="button-colored-theme" aria-label="Delete booking">Delete</paper-button>
      </div>
    </paper-dialog>

    <paper-toast id="toast"></paper-toast>

    <uqlibrary-api-facilities-booking id="deleteBookingRequest" on-uqlibrary-api-facilities-booking-executed="_deleteBookingComplete"></uqlibrary-api-facilities-booking>
  </template>
  <script src="uqlibrary-booking-display.js"></script>
</dom-module>
