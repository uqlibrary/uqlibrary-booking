<link rel="import" href="../uqlibrary-elements/0.5.1/lib/vulcanized.html">

<polymer-element name="uqlibrary-rooms-list" attributes="data">
<template>
  <link rel="stylesheet" href="uqlibrary-rooms-list.css">

  <core-list id="list" on-core-activate="{{selectRoom}}" data="{{data}}" selection="{{selection}}" fit>
    <template>
      <div horizontal layout class="item">
        <div class="message-image" style="background-image: url({{model.image}});"></div>
        <div class="message" flex>
          <paper-ripple fit></paper-ripple>
          <div class="primary">{{model.title}}</div>
          <span class="secondary" hidden?={{!model.location}}>{{ model.location }}, </span>
          <span class="secondary" hidden?={{!model.building}}>{{ model.building }}, </span>
          <span class="secondary" hidden?={{!model.campus}}>{{ model.campus }}</span><br>
          <span class="secondary level" hidden?={{!model.next_available_time_text}}>Available time: {{model.next_available_time_text}}</span><br>
        </div>
      </div>
    </template>
  </core-list>
</template>

<script>
  (function() {
    Polymer('uqlibrary-rooms-list', {

      ready: function() {
      },

      dataChanged: function(oldValue, newValue) {
      },

      setData: function(newData) {
        this.data = newData;
      },

      selectRoom: function(e, data, sender) {
        this.fire('room-selected', {item: this.selection});
      }
    });
  })();
</script>
</polymer-element>
